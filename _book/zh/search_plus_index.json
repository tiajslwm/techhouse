{"./":{"url":"./","title":"Introduction","keywords":"","body":"Learn GitLearn Git This is a GitBook version of the Scott Chacon's book: Pro Git. The entire Pro Git book, written by Scott Chacon and published by Apress, is available here. All content is licensed under the Creative Commons Attribution Non Commercial Share Alike 3.0 license. Print versions of the book are available on Amazon.com. This book is also an example of a book that can be generated in multiple languages. WARNING: This repo is automatically generated by progit-to-gitbook. Please submit all pull requests to Pro Git. Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 18:09:26 "},"Booking/LowFareSearch.html":{"url":"Booking/LowFareSearch.html","title":"LowFareSearch","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - LowFareSearch 1.1 功能描述 简介：通过LowFareSearch接口，可以根据相关搜索参数获取搜索结果。 注意事项：默认最大返回时间10秒，可以在1秒～60秒之间按需求定制最大返回时限，根据最大返回时限，控制有限时间内可返回的结果数量。 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String LowFareSearch key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' 加密测试地址：http://encode-decode.com/aes-256-cbc-encrypt-online/ timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object tripType String 行程类型1:单程2:往返; fromCity String 出发地 IATA 三字码代码 toCity String 目的地城市 、到达城市 IATA 三字码代码 fromDate String 去程,格式为 YYYYMMDD retDate String 回程日期,格式为 YYYYMMDD(单程为空) currency String 请求币种，如USD adultNumber（optional） String 成人人数，小于9 childNumber（optional） String 儿童人数，小于9 timeout（optional） Int 接口访问的超时时间，单位：秒 sync（optional） int 如果选用“异步搜索”设置为0; 否则设置为1或不用传此参数 searchId（optional） int 如果选用“异步搜索”设置, 第二次及以后的异步搜索请求都需要传此参数，参数值为第一次请求返回结果中的searchId 1.3 请求结果 { \"action\": \"LowFareSearch\", \"key\": \"xxxxxxxxxxxxxxxx\", \"timestamp\": \"1466134420.74\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"version\": \"2.0.3\", \"request\": { \"tripType\": \"1\", \"fromCity\": \"BKK\", \"toCity\": \"CNX\", \"fromDate\": \"20130729\", \"retDate\": \"\", } } 1.4 返回参数 Field Type Description status Number 0为成 msg String 提示信息,长度小于 64 searchId String searchId carriers Object[] 航司返回结果信息 statuscode int 状态码，大于等于0为成功(0为当天无航班，大于0为航班数)，小于0为失败 carriercode String 航司代码 routings Object[] 行程及报价信息 adultFare Float 成人单价 adultTax Float 成人税费 childFare Float 儿童单价 childTax Float 儿童税费 currency String 货币类型三字码 data String 会话信息，长度小于1000bytes。需要在调用AirPricing时传给Letsfly routeType Int 数据来源信息，0:LF，1:tech house fromSegments Object[] 去程航段 carrier String 航司 IATA 二字码,必须与 flightNumber 航司相同 flightNumber String 航班号,如:CA123。航班号数字前若有多余的数字 0, 必须去掉,如 CZ006 需返回 CZ6 depAirport String 出发机场 IATA 三字码 depTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203100300 表示 2012 年 3 月 10 日 3 时 0 分 arrAirport String 到达机场 IATA 三字码 arrTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203101305 表示 2012 年 3 月 10 日 13 时 5 分 stopCities String 经停地，使用’/’分隔城市三字码 codeShare Boolean 代码共享标识(true 代码共享/false 非代码共享) duration int 出发地至到达地飞行时长，单位为分钟 cabin String 舱位 cabinClass String 舱位等级 aircraftCode String 机型 package Object[] 套餐 packageList Object[] 套餐组合 packageCode String 套餐具体信息二字码 amount Number 价格 retSegments Object[] 回程航段 carrier String 航司 IATA 二字码,必须与 flightNumber 航司相同 flightNumber String 航班号,如:CA123。航班号数字前若有多余的数字 0, 必须去掉,如 CZ006 需返回 CZ6 depAirport String 出发机场 IATA 三字码 depTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203100300 表示 2012 年 3 月 10 日 3 时 0 分 arrAirport String 到达机场 IATA 三字码 arrTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203101305 表示 2012 年 3 月 10 日 13 时 5 分 stopCities String 经停地，使用’/’分隔城市三字码 codeShare Boolean 代码共享标识(true 代码共享/false 非代码共享) cabin String 舱位 cabinClass String 舱位等级 aircraftCode String 机型 package Object[] 套餐 packageType Int 1:行李，2:餐食 amount Float 价格 1.5 返回结果 { \"status\": 0, \"msg\": \"success\", \"routings\": [ { \"retSegments\": [], \"childTax\": 2686.99, \"fromSegments\": [ { \"arrAirport\": \"KUL\", \"operatingFlightno\": \"\", \"flightNumber\": \"AK895\", \"stopCities\": \"\", \"codeShare\": \"false\", \"carrier\": \"AK\", \"depAirport\": \"DMK\", \"stopAirports\": \"\", \"arrTime\": \"201709290220\", \"depTime\": \"201709282310\", \"aircraftCode\": \"320\", \"cabin\": \"O\", \"operatingCarrier\": \"\", \"package\": [ { \"packageList\":[ { \"packageCode\": \"AA\", \"amount\": 200.00 } ] } ] } ], \"childFare\": 2027.06, \"currency\": \"JPY\", \"adultTax\": 2686.99, \"maxSeats\": 3, \"data\": \"xxxxxxxxxxxxxxxxxxxxxxxxx\", \"routeType\": 1, \"adultFare\": 2027.06 } ], \"carriers\": { \"AK\": 1, \"OD\": -1 } } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1040 流量已超过每天最大使用额 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2010 不支持此航线 2011 无航班请更换日期 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 17:40:39 "},"Booking/AirPricing.html":{"url":"Booking/AirPricing.html","title":"AirPricing","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - AirPricing 1.1 功能描述 简介：通过AirPricing接口，可以对相应航班信息进行价格，仓位校验。 注意事项1: 最大响应时间为30秒，价格变动或仓位变动都会引起校验失败。 注意事项2: 调用AirPricing接口前必须调用LowFareSearch接口，并且AirPricing接口调用结果依赖于LowFareSearch接口调用结果 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String AirPricing key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object routing String LowFareSearch接口中返回的routing信息 currency String 请求币种，如USD adultNumber（optional） String 成人人数，小于9 childNumber（optional） String 儿童人数，小于9 timeout（optional） String 接口访问的超时时间，单位：秒 1.3 请求结果 { \"action\": \"AirPricing\", \"key\": \"xxxxxxxxxxxxxxxx\", \"timestamp\": \"1466134420.74\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"version\": \"2.0.3\", \"request\": { \"tripType\": \"1\", \"routing\": { \"data\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"fromSegments\": [ { \"carrier\": \"AA\", \"depAirport\": \"PEK\", \"depTime\": \"201203140140\", \"arrAirport\": \"HKG\", \"arrTime\": \"201203150530\", \"stopCities\": \"\", \"codeShare\": false, \"cabin\": \"E\", \"aircraftCode\": \"Boeing 777\", \"flightNumber\": \"AA89\" }, { \"carrier\": \"CA\", \"depAirport\": \"HKG\", \"depTime\": \"201204151400\", \"arrAirport\": \"TPE\", \"arrTime\": \"201204151715\", \"stopCities\": \"\", \"codeShare\": false, \"cabin\": \"E\", \"aircraftCode\": \"Boeing 737\", \"flightNumber\": \"CA189\" } ], \"retSegments\": [] } } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 isPriceChanged Boolean 价格变动 (True代表价格变动了) msg String 提示信息,长度小于 64 sessionId String 会话标识:标记服务接口调用的唯一标识,相应的调用结果中会原值返回。 maxSeats Number 可预订的座位数,最大为 9 routing Object 报价信息 adultFare Float 成人单价 adultTax Float 成人税费 childFare Float 儿童单价 childTax Float 儿童税费 currency String 货币类型三字码 fromSegments Object[] carrier String 航司 IATA 二字码,必须与 flightNumber 航司相同 flightNumber String 航班号,如:CA123。航班号数字前若有多余的数字 0, 必须去掉,如 CZ006 需返回 CZ6 depAirport String 出发机场 IATA 三字码 depTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203100300 表示 2012 年 3 月 10 日 3 时 0 分 arrAirport String 到达机场 IATA 三字码 arrTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203101305 表示 2012 年 3 月 10 日 13 时 5 分 stopCities String 经停地，使用’/’分隔城市三字码 cabin String 舱位 cabinClass String 舱位等级 aircraftCode String 机型 codeShare Boolean 代码共享标识(true 代码共享/false 非代码共享) package Object[] 套餐 packageType Int 1:行李，2:餐食 amount Float 价格 retSegments Object[] carrier String 航司 IATA 二字码,必须与 flightNumber 航司相同 flightNumber String 航班号,如:CA123。航班号数字前若有多余的数字 0, 必须去掉,如 CZ006 需返回 CZ6 depAirport String 出发机场 IATA 三字码 depTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203100300 表示 2012 年 3 月 10 日 3 时 0 分 arrAirport String 到达机场 IATA 三字码 arrTime String 起飞日期时间,格式:YYYYMMDDHHMM 例: 201203101305 表示 2012 年 3 月 10 日 13 时 5 分 stopCities String 经停地，使用’/’分隔城市三字码 cabin String 舱位 cabinClass String 舱位等级 aircraftCode String 机型 codeShare Boolean 代码共享标识(true 代码共享/false 非代码共享) duration Int 出发地至到达地飞行时长，单位为分钟 package Object[] 套餐 packageType Int 1:行李，2:餐食 amount Float 价格 rule Object 退改签信息,参考 Rule Element changesInfoList Object[] Element Object changesType Int 改期类型 0：客票全部未使用；1：客票部分使用【即去程已使用，在往返行程中使用，代表回程的退票信息】【单程时0；往返时0、1都要有】 changesStatus String 改期标识 T：不可改期 H：有条件改期 F：免费改期 E：按航司客规【公布运价专用】 changesFee Decimal 改期费 1）当changesStatus =H,必须赋值；2）若changesStatus =T/F,此字段可不赋值。 currency String 改期费币种 当refundStatus =H，必须赋值。 passengerType Int 乘客类型，0 成人/1 儿童 1）对于对乘客类型的查询、验价，必须按乘客类型返回；如成人+儿童的查询，成人和儿童的退改签都要有。 revNoshow String 是否允许NoShow改期 T：不可改； H：有条件改；F：免费改；E：按航司客规为准【公布运价专用】 revNoShowCondition Int 改期时航班起飞前多久算NoShow，单位：小时 1）若无法确认此时间，请默认赋0。 revNoshowFee Decimal NoShow改期费用 1）当revNoshow =H，必须赋值；2）展示给客人的noshow改期费= changesFee + revNoshowFee。 enRevRemark String (option) 中文改期备注 cnRevRemark String (option) 英文改期备注 refundInfoList Object[] Element Object refundType Int 退票类型 0：客票全部未使用；1：客票部分使用【即去程已使用，在往返行程中使用，代表回程的退票信息】【单程时0；往返时0、1都要有】 refundStatus String 退票标识 T：不可退 H：有条件退 F：免费退 E：按航司客规【公布运价专用】 refundFee Decimal 退票费 1）当refundStatus =H,必须赋值；2）若refundStatus =T/F,此字段可不赋值。 currency String 退票费币种 当refundStatus =H，必须赋值。 passengerType Int 乘客类型，0 成人/1 儿童 1）对于多乘客类型的查询、验价，必须按乘客类型返回；如成人+儿童的查询，成人和儿童的退改签都要有。 refNoshow String 是否允许NoShow退票 T：不可退； H：有条件退；F：免费退；E：按航司客规为准【公布运价专用】 refNoShowCondition Int 退票时航班起飞前多久算NoShow，单位：小时 1）若无法确认此时间，请默认赋0。 refNoshowFee Decimal NoShow退票费用 1）当IsRefNoshow =H，必须赋值；2）展示给客人的noshow退票费= refundFee+ refNoshowFee。 enRevRemark Decimal (option) 中文退票备注 cnRevRemark Decimal (option) 英文退票备注 baggageInfoList Object[] Element Object segmentNo Int 航段序号，从1开始 1）注意是按航段赋值，而不是按去程/回程赋值 passengerType Int 乘客类型，0 成人/1 儿童 1）对于多乘客类型的查询、验价，必须按乘客类型返回；如成人+儿童的查询，成人和儿童的行李额都要有。 baggagePiece Int 行李额件数，单位PC，枚举值如下：0无免费托运行李，此时baggageWeight需赋值为-1；-1表示计重制，对应的baggageWeight表示每人可携带的总重量(此时baggageWeight必须赋正值，否则过滤）；>0表示计件制，对应的baggageWeight表示每件行李重量（若计件制时不知每件行李额的重量，baggageWeight必须赋值为-1）。 baggageWeight Int 行李额重量，单位KG，必须赋值，跟BaggagePiece配合使用 cnBaggage Object 中文行李额备注 enBaggage Object 英文行李额备注 1.5 返回结果 { \"status\": 0, \"isPriceChanged\": false, \"rule\": { \"changesInfoList\": [ { \"enRemark\": \"\", \"revNoShowCondition\": 0, \"revNoshowFee\": 0, \"changesStatus\": \"T\", \"changesFee\": 0, \"currency\": \"CNY\", \"enRevRemark\": \"\", \"revNoshow\": \"T\", \"cnRevRemark\": \"\", \"changesType\": 0, \"passengerType\": 0, \"cnRemark\": \"\" }, { \"enRemark\": \"\", \"revNoShowCondition\": 0, \"revNoshowFee\": 0, \"changesStatus\": \"T\", \"changesFee\": 0, \"currency\": \"CNY\", \"enRevRemark\": \"\", \"revNoshow\": \"T\", \"cnRevRemark\": \"\", \"changesType\": 1, \"passengerType\": 0, \"cnRemark\": \"\" }, { \"enRemark\": \"\", \"revNoShowCondition\": 0, \"revNoshowFee\": 0, \"changesStatus\": \"T\", \"changesFee\": 0, \"currency\": \"CNY\", \"enRevRemark\": \"\", \"revNoshow\": \"T\", \"cnRevRemark\": \"\", \"changesType\": 0, \"passengerType\": 1, \"cnRemark\": \"\" }, { \"enRemark\": \"\", \"revNoShowCondition\": 0, \"revNoshowFee\": 0, \"changesStatus\": \"T\", \"changesFee\": 0, \"currency\": \"CNY\", \"enRevRemark\": \"\", \"revNoshow\": \"T\", \"cnRevRemark\": \"\", \"changesType\": 1, \"passengerType\": 1, \"cnRemark\": \"\" } ], \"refundInfoList\": [ { \"enRemark\": \"\", \"enRefRemark\": \"\", \"refNoshow\": \"T\", \"cnRefRemark\": \"\", \"refundFee\": 0, \"refundStatus\": \"T\", \"currency\": \"CNY\", \"refNoShowCondition\": 0, \"cnRemark\": \"\", \"refNoshowFee\": 0, \"refundType\": 0, \"passengerType\": 0 }, { \"enRemark\": \"\", \"enRefRemark\": \"\", \"refNoshow\": \"T\", \"cnRefRemark\": \"\", \"refundFee\": 0, \"refundStatus\": \"T\", \"currency\": \"CNY\", \"refNoShowCondition\": 0, \"cnRemark\": \"\", \"refNoshowFee\": 0, \"refundType\": 1, \"passengerType\": 0 }, { \"enRemark\": \"\", \"enRefRemark\": \"\", \"refNoshow\": \"T\", \"cnRefRemark\": \"\", \"refundFee\": 0, \"refundStatus\": \"T\", \"currency\": \"CNY\", \"refNoShowCondition\": 0, \"cnRemark\": \"\", \"refNoshowFee\": 0, \"refundType\": 0, \"passengerType\": 1 }, { \"enRemark\": \"\", \"enRefRemark\": \"\", \"refNoshow\": \"T\", \"cnRefRemark\": \"\", \"refundFee\": 0, \"refundStatus\": \"T\", \"currency\": \"CNY\", \"refNoShowCondition\": 0, \"cnRemark\": \"\", \"refNoshowFee\": 0, \"refundType\": 1, \"passengerType\": 1 } ], \"baggageInfoList\": [ { \"baggageWeight\": 0, \"baggagePiece\": 0, \"enBaggage\": \"\", \"cnBaggage\": \"\", \"segmentNo\": 1, \"passengerType\": 0 }, { \"baggageWeight\": 0, \"baggagePiece\": 0, \"enBaggage\": \"\", \"cnBaggage\": \"\", \"segmentNo\": 1, \"passengerType\": 1 } ] }, \"maxSeats\": 3, \"sessionId\": \"fa54e852093ba64efee0b0273310a63b\", \"routing\": { \"retSegments\": [], \"childTax\": 2686.99, \"fromSegments\": [ { \"arrAirport\": \"KUL\", \"operatingFlightno\": \"\", \"flightNumber\": \"AK881\", \"stopCities\": \"\", \"codeShare\": \"false\", \"carrier\": \"AK\", \"depAirport\": \"DMK\", \"stopAirports\": \"\", \"arrTime\": \"201709281315\", \"depTime\": \"201709281000\", \"aircraftCode\": \"320\", \"cabin\": \"I\", \"operatingCarrier\": \"\" } ], \"childFare\": 6777.66, \"currency\": \"CNY\", \"adultTax\": 2686.99, \"data\": \"xxxxxxx\", \"adultFare\": 6777.66 }, \"msg\": \"success\", \"timeflag\": 1504792769.236955 } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2012 此航班已售罄 1.7 错误状态码 { \"status\": 1000, \"msg\": \"Letslfy flight inernal error\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 10:05:19 "},"Booking/SetPassengers.html":{"url":"Booking/SetPassengers.html","title":"SetPassengers","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - SetPassengers 1.1 功能描述 简介：向目标行程添加乘客信息，此接口在预定流程为必需。 注意事项：调用此接口前必须调用AirPricing接口，并依赖于AirPricing接口的结果。 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String SetPassengers key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house passengers Object[] 乘机人信息 passengerId String passengerid,从0开始增加，不允许重复 firstName String firstName，如果有middleName,格式为firstName middleName lastName String lastName ageType Number 乘客类型,0:成人 1:儿童 -1:留学生 birthday String 生日,格式:YYYYMMDD gender String 乘客性别,M:男 F:女 cardNum String 证件号码,最大 15 个字符 cardType String 证件类型,PP:护照 GA:港澳通行证 TW:台湾通行证 TB:台胞证 HX:回乡证 HY:国际海员证 cardIssuePlace String 证件发行国家,国家二字码 cardExpired String 证件有效时间,格式:YYYYMMDD nationality String 乘客国籍,国家二字码 contact Object 联系人信息,参考下面的 Contact Element firstName String firstName，如果有middleName,格式为firstName middleName lastName String lastName address String 详细地址 postcode Number 邮编 email String 联系人邮箱 mobile String 联系人手机号,需要国家码+手机号 1.3 请求结果 { \"timestamp\": \"1508142479.56\", \"request\": { \"passengers\": [ { \"cardExpired\": \"20190506\", \"cardType\": \"PP\", \"birthday\": \"19830418\", \"nationality\": \"CN\", \"cardIssuePlace\": \"CN\", \"passengerId\": \"0\", \"firstName\": \"YANG\", \"ageType\": 0, \"gender\": \"F\", \"cardNum\": \"G35388575\", \"lastName\": \"Liu\" }, { \"cardExpired\": \"20190510\", \"cardType\": \"PP\", \"birthday\": \"19830315\", \"nationality\": \"CN\", \"cardIssuePlace\": \"CN\", \"passengerId\": \"1\", \"firstName\": \"WANTAO\", \"ageType\": 0, \"gender\": \"M\", \"cardNum\": \"G35392875\", \"lastName\": \"LI\" } ], \"sessionId\": \"dd0a785f24f4f70e9816969044df3605\", \"routeType\": 1, \"contact\": { \"firstName\": \"qwe\", \"mobile\": \"13774293883\", \"lastName\": \"qwe\", \"postcode\": \"200335\", \"address\": \"Ctrip Building, No.99 Fuquan Road, Shanghai, China\", \"email\": \"GPYYXGXPZ@ctrip.com\" } }, \"version\": \"2.0.1\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"action\": \"SetPassengers\" } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 totalCost Float 总计需要金额 currency String 货币类型三字码 1.5 返回结果 { \"status\": 0, \"totalCost\": 20513.74, \"msg\": \"Success\", \"currency\": \"JPY\" } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2007 SetPassenger请求格式错误：乘客类型错误 2008 SetPassenger只允许设置一次，重复设置错误 2009 PassengerID不存在，通常SellSSR或AssignSeat之前需要调用SetPassenger 2014 儿童人数不能大于成人人数,并且不能只有单独儿童人数 1.7 错误状态码 ```json {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 17:04:18 "},"Booking/GetSSRAvailability.html":{"url":"Booking/GetSSRAvailability.html","title":"GetSSRAvailability","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - GetSSRAvailability 1.1 功能描述 简介：面向特定航班，获取有效的附加服务详细信息 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String GetSSRAvailability key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house segments Object[] segments列表 flightNumber String 航班号 depAirport String 始发机场三字码 arrAirport String 到达机场三字码 depDate String 起飞日期,格式为：YYYYMMDD cabin String 舱位代码 1.3 请求结果 { \"action\": \"GetSSRAvailability\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1508143359.32\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"dd0a785f24f4f70e9816969044df3605\", \"routeType\": 1, \"segments\": [ { \"arrAirport\": \"KUL\", \"flightNumber\": \"D7317\", \"depAirport\": \"PEK\", \"depDate\": \"20171021\", \"cabin\": \"B\" }, { \"arrAirport\": \"PEK\", \"flightNumber\": \"D7318\", \"depAirport\": \"KUL\", \"depDate\": \"20171027\", \"cabin\": \"W\" } ] } } 1.4 返回参数 Field Type Description status Number 0:成功; 其他,失败 msg String 提示信息,长度小于64 ssrs Object[] ssr列表 flightno Number The flight number of the request segment ssrs Object[] SSR List for every segment applyType Number 0: ALL, 1, PRE_BOOKING, 2: POST_BOOKING code String ssrcode唯一标示 type String 辅营的二字吗 typeweight Int 辅营数量，如type等于行李的时候20，餐食的时候2 desc String SSR 描述 amount Number SSR 价格 currency String 币种，如USD unit String 辅营，如type等于行李的时候KG，LB，餐食的时候3，4 img （optional） String 图片url 1.5 返回结果 { \"status\": 0, \"msg\": \"Success\", \"ssrs\": [ { \"ssrs\": [ { \"currency\": \"CNY\", \"amount\": 200, \"code\": \"PA20\", \"name\": \"20\", \"weight\": 20, \"type\": \"XX\", \"applyType\": 1, \"unit\": \"KG\", \"desc\": \"\" }, { \"currency\": \"CNY\", \"amount\": 200, \"code\": \"PB20\", \"name\": \"宫保鸡丁\", \"weight\": 20, \"type\": \"DD\", \"applyType\": 2, \"unit\": \"1\", \"desc\": \"\" } ], \"flightno\": \"AK216\" } ] } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2101 无可用SSR数据 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 17:37:24 "},"Booking/SellSSR.html":{"url":"Booking/SellSSR.html","title":"SellSSR","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - SellSSR 1.1 功能描述 简介：面向特定航班，添加附加服务 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String SellSSR key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house ssrs Object[] flightNumber String 航班号 depAirport String 始发机场三字码 arrAirport String 到达机场三字码 depDate String 起飞日期,格式为：YYYYMMDD cabin String 舱位代码 ssrcode String ssrcode count Number 数量 passengerId Object 乘客ID，等同于SetPassengers设置的passengerId 1.3 请求结果 { \"action\": \"SellSSR\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547004532000\", \"request\": { \"sessionId\": \"dd0a785f24f4f70e9816969044df3605\", \"routeType\": 1, \"ssrs\": [ { \"flightNumber\": \"FD3425\", \"depAirport\": \"DMK\", \"arrAirport\": \"CNX\", \"depDate\": \"20190210\", \"cabin\": \"O\", \"ssrcode\": \"PA15\", \"count\": 1, \"passengerId\": 0 } ] } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 totalCost Number 需要支付货币 currency String 货币类型三字码 1.5 返回结果 { \"status\": 0, \"msg\": \"Success\", \"sessionId\": \"d1a734123fb6d248d59429cc00b86dff\", \"totalCost\": 47.0, \"currency\": \"USD\", } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2002 Session中无有效行程 2003 Session中无乘客 2009 PassengerID不存在，通常SellSSR或AssignSeat之前需要调用SetPassenger 2102 请求中的 Code 和GetSSRAvailibility 的不一致 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 17:06:48 "},"Booking/GetSeatAvailability.html":{"url":"Booking/GetSeatAvailability.html","title":"GetSeatAvailability","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - GetSeatAvailability 1.1 功能描述 简介：面向特定航班，添加附加服务 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String GetSeatAvailability key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house flightNumber String 航班号 depAirport String 始发机场三字码 arrAirport String 到达机场三字码 depDate String 起飞日期,格式为 YYYYMMDD cabin String 舱位代码 1.3 请求结果 { \"action\": \"GetSeatAvailability\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1, \"flightNumber\": \"VZ118\", \"depAirport\": \"BKK\", \"arrAirport\": \"CNX\", \"depDate\": \"20191225\", \"cabin\": \"T\" } } 1.4 返回参数 Field Type Description status Number 0:成功; 其他,失败 msg String 提示信息,长度小于64 result Object 结果 seats Object[] seat列表 availability String 是否有效 Open:表示开放 Close:表示不可选 designator String 座位标识，如27C，表示实际的座位位置 classCode String 座位的舱位等级 amount Float 价格 currency String 货币类型三字码 1.5 返回结果 { \"status\": 0, \"msg\": \"Success\", \"result\": { \"seats\": [ { \"availability\": \"是否有效 Open:表示开放 Close:表示不可选\", \"designator\": \"座位标识，如27C，表示实际的座位位置\", \"classCode\": \"座位的舱位等级\", \"amount\": \"价格\", \"currency\": \"货币类型三字码\" } ] } } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2201 无可选座位数据 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 17:06:39 "},"Booking/AssignSeats.html":{"url":"Booking/AssignSeats.html","title":"AssignSeats","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - AssignSeats 1.1 功能描述 简介：面向特定航班，为特定乘客指定座位。 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String AssignSeats key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house flightNumber String 航班号 depAirport String 始发机场三字码 arrAirport String 到达机场三字码 depDate String 起飞日期,格式为 YYYYMMDD cabin String 舱位代码 seats Object[] 座位 designator String 座位标示 passengerId String 乘客ID 1.3 请求结果 { \"action\": \"GetSeatAvailability\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1, \"flightNumber\": \"VZ118\", \"depAirport\": \"BKK\", \"arrAirport\": \"CNX\", \"depDate\": \"20191225\", \"cabin\": \"T\", \"seats\": { \"designator\": \"27C\", \"passengerId\": \"123456\" } } } 1.4 返回参数 Field Type Description status Number 0 for success msg String Return message, maximum 64 char totalCost Number Total cost currency String Currency information, 3_letter code e.g. USD 1.5 返回结果 { \"status\": 0, \"msg\": \"Success\", \"totalCost\": \"100.00\", \"currency\": \"USD\" } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2002 Session中无有效行程 2003 Session中无乘客 2009 PassengerID不存在，通常SellSSR或AssignSeat之前需要调用SetPassenger 2202 请求中的 Code 和GetSeatAvailibility 的不一致 2203 座位不可选 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 17:06:44 "},"Booking/GetBookingPayments.html":{"url":"Booking/GetBookingPayments.html","title":"GetBookingPayments","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - GetBookingPayments 1.1 功能描述 简介：获取支付方式 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String AssignSeats key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house 1.3 请求结果 { \"action\": \"GetSeatAvailability\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1 } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 payments Object[] name String 名称 code String 支付方式代码,AG:余额，XX:信用卡 desc String 描述 chargeFee Float 支付手续费 currency String 货币类型三字码 1.5 返回结果 { \"status\": 0, \"msg\": \"Success\", \"payments\": [ { \"name\": \"名称\", \"code\": \"支付方式代码,AG:余额，目前只支持这一种\", \"desc\": \"描述\", \"chargeFee\": \"支付手续费\", \"currency\": \"货币类型三字码\" } ] } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 16:29:36 "},"Booking/SetPaymentToBooking.html":{"url":"Booking/SetPaymentToBooking.html","title":"SetPaymentToBooking","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - SetPaymentToBooking 1.1 功能描述 简介：对于每次预定流程， 都需要设置相应的支付方式。 注意事项：此接口结果依赖于GetBookingPaymets的结果。 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String SetPaymentToBooking key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house paymentCode String 支付代码 payCurrency String 支付币种 1.3 请求结果 { \"action\": \"GetSeatAvailability\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1, \"paymentCode\": \"AG\", \"payCurrency\": \"USD\" } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 totalCost Float 需要支付的金额 currency String 货币类型三字码 1.5 返回结果 { \"status\": 0, \"totalCost\": 10826.4, \"msg\": \"Success\", \"currency\": \"JPY\" } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2301 支付方式不支持 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 17:09:45 "},"Booking/GetAirlinesAndRoutings.html":{"url":"Booking/GetAirlinesAndRoutings.html","title":"GetAirlinesAndRoutings","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - GetAirlinesAndRoutings 1.1 功能描述 简介： 获取航司航线 1.2 请求说明 请求方式：POST 请求URL ：/flight/order 1.3 请求参数 Field Type Description action String GetAirlinesAndRoutings key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house 1.3 请求结果 { \"action\": \"GetAirlinesAndRoutings\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1 } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 airlineList Object[] 航司列表 airName String 订单号 airCode String 订单状态 airCountry String 所属国家 airStatus Int 状态 routingList Object[] 航线 depAirport String 出发城市 airAirport String 到达城市 portNameCn String 航线名称中文 portNameEn String 航线名称英文 routStatus Int 状态 1.5 返回结果 { \"status\": 0, \"msg\": \"success\", \"airlineList\": [ { \"airName\": \"lf123123123\", \"airCode\": \"TICKETED\", \"airCountry\": \"1547016648.42\", \"airStatus\": 0, \"routingList\": [ { \"depAirport\": \"BKK\", \"airAirport\": \"ICE\", \"portNameCn\": \"曼谷-首尔\", \"portNameEn\": \"Bangkok-Seoul\" } ] } ] } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 14:35:16 "},"Booking/GetBalance.html":{"url":"Booking/GetBalance.html","title":"GetBalance","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - GetBalance 1.1 功能描述 简介： 获取账户余额 1.2 请求说明 请求方式：POST 请求URL ：/flight/order 1.3 请求参数 Field Type Description action String GetAirlinesAndRoutings key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house apiBalance String api账户 1.3 请求结果 { \"action\": \"GetAirlinesAndRoutings\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1, \"apiBalance\": \"xx\" } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 balanceList Object[] 账户列表 currency String 货币 balance Double 余额 1.5 返回结果 { \"status\": 0, \"msg\": \"success\", \"balanceList\": [ { \"currency\": \"USD\", \"balance\": 100.00 } ] } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 17:20:41 "},"Booking/commit.html":{"url":"Booking/commit.html","title":"Commit","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Booking - Commit 1.1 功能描述 简介： 提交，作为前序流程的结点，将需求 注意事项1：每次调用此接口，LF API都会进行相应业务流程的Availibility确认 注意事项2：最大响应时间为30秒 1.2 请求说明 请求方式：POST 请求URL ：/flight/booking 1.3 请求参数 Field Type Description action String Commit key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object sessionId String sessionId，由AirPricing接口应答产生 routeType Int 数据来源信息，0:LF，1:tech house timeout（optional） Int 接口访问的超时时间，单位：秒 1.3 请求结果 { \"action\": \"GetSeatAvailability\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"sessionId\": \"77935418d55fd48629be0643557121f4\", \"routeType\": 1, \"timeout\": 60 } } 1.4 返回参数 Field Type Description status Number 0:成功 其他:失败 msg String 提示信息,长度小于 64 totalCost Number 已支付金额 currency String 货币类型三字码 orderNo String 订单号 orderStatus String 订单状态，详情请参考附录的订单状态 isPriceChanged Boolean 价格变动 (True代表价格变动了) 1.5 返回结果 { \"status\": 0, \"totalCost\": 1620.7, \"currency\": \"CNY\", \"msg\": \"success\", \"timeflag\": 1504852330.840158, \"orderNo\": \"lf170908141233456789\", \"orderStatus\": \"PENDING\" } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 1201 余额不足 2002 Session中无有效行程 2003 Session中无乘客 2012 此航班已售罄 2013 订单价格已失效，请重新下单 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 18:22:19 "},"Order/GetOrderList.html":{"url":"Order/GetOrderList.html","title":"GetOrderList","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Order - GetOrderList 1.1 功能描述 简介： 获取订单列表 1.2 请求说明 请求方式：POST 请求URL ：/flight/order 1.3 请求参数 Field Type Description action String Commit key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object startTime String 起始时间,格式为 '2017-07-01T00:00:00+08:00' endTime String 终止日期,格式为 '2017-07-01T00:00:00+08:00' routeType Int 数据来源信息，0:LF，1:tech house orderStatus （optional） String 订单状态: TICKETED:已出票,PENDING:等待出票，NEED_PAYMENT:等待支付 1.3 请求结果 { \"action\": \"GetOrderList\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"startTime\": \"2017-07-01T00:00:00+08:00\", \"endTime\": \"2017-07-01T00:00:00+08:00\", \"routeType\": 1, \"orderStatus\": \"TICKETED\" } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 bookingList Object[] 订单列表 orderNo String 订单号 orderStatus String 订单状态 createTime String 订单创建时间 1.5 返回结果 { \"status\": 0, \"msg\": \"success\", \"bookingList\": [ { \"orderNo\": \"lf123123123\", \"orderStatus\": \"TICKETED\", \"createTime\": \"1547016648.42\" } ] } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 2005 GetOrderList请求格式错误：日期格式错误 2006 GetOrderList请求格式错误：未知的订单状态 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-09 18:18:47 "},"Order/GetOrderDetail.html":{"url":"Order/GetOrderDetail.html","title":"GetOrderDetail","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Order - GetOrderDetail 1.1 功能描述 简介： 获取订单列表 1.2 请求说明 请求方式：POST 请求URL ：/flight/order 1.3 请求参数 Field Type Description action String GetOrderDetail key String 商户在平台申请的 key. signature String 使用授权密钥对指定格式进行AES 256 CBC加密的数据，如果您的API密钥数据为： key: ctPJAIdxUA3ptaWCsecret: 024sYXZXMlFKaiAa65IYuMCB0hE2CgaP 则需要加密数据的格式为：'key&timestamp'，例如：'ctPJAIdxUA3ptaWC&1500375695.65'，那么使用上述密钥加密后数据为： '15hhHQ8C6F9OxD/BNyztUPUJyiRlGPRafEkcI6q2E5Y=' timestamp String 时间戳信息，用于加密和验证 version String API 版本信息，2.0.1 request Object orderno String Order number email String Contact email cardIssuePlace String Credential issued country, country 2_letter code e.g. JP routeType Int 数据来源信息，0:LF，1:tech house 1.3 请求结果 { \"action\": \"GetOrderList\", \"key\": \"xxxxxxxxxxxxxxxx\", \"signature\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"timestamp\": \"1547016648.42\", \"version\": \"2.0.3\", \"request\": { \"orderno\": \"lf123123\", \"email\": \"xxxx@qq.com\", \"cardIssuePlace\": \"\", \"routeType\": 1 } } 1.4 返回参数 Field Type Description status Number 0 for success, others for failure, please refer to status error appendix for detail fromcity String 出发城市 currency String 币种 orderStatus String 订单状态: TICKETED:已出票,PENDING:等待出票，NEEDPAY:等待支付 tocity String 到达城市 orderNo String 订单号,最大 100 个字符 orderDate Int 下单时间 paymentDate Int 支付时间 totalCost String 订单总价 sessionId String sessionId，由AirPricing接口应答产生 paymentCode String 支付代码 routing Object fares Object Journey fares passengerId Number Passenger Id fare Float Journey fare tax Float Journey tax currency String Currency information, 3_letter code e.g. USD fromSegments Object[] carrier String Carrier IATA 2_letter code, must same to flightNumber carrier code, e.g. CA flightNumber String light number, e.g. CA123 if flight number begin with 0, must waived, e.g. CZ006 is return by CZ6 depAirport String Departure airport IATA 3_letter code depTime String Departure date and time format: YYYYMMDDHHMM e.g. 201203100315 2012/03/10 03:15 arrAirport String Arrival airport IATA 3_letter code arrTime String Arrival date and time, format:YYYYMMDDHHMM e.g. 201203101305 means 2012/03/10 13:05 stopCities String Stop over city，use / for separate. TYO/OSA cabin String Cabin information cabinClass String Cabin class information aircraftCode String Aircraft Code codeShare Boolean Code share, true is code share retSegments Object[] carrier String Carrier IATA 2_letter code, must same to flightNumber carrier code, e.g. CA flightNumber String Flight number, e.g. CA123 if flight number begin with 0, must waived, e.g. CZ006 is return by CZ6 depAirport String Departure airport IATA 3_letter code depTime String Departure date and time format: YYYYMMDDHHMM e.g. 201203100315 2012/03/10 03:15 arrAirport String Arrival airport IATA 3_letter code arrTime String Arrival date and time, format:YYYYMMDDHHMM e.g. 201203101305 means 2012/03/10 13:05 stopCities String Stop over city，use / for separate. TYO/OSA cabin String Cabin information aircraftCode String Aircraft Code codeShare Boolean Code share, true is code share passengers Object[] Object for Passenger information passengerId Number passengerId lastName String LastName firstName String FirstName MiddleName ageType Number Passenger type, 0:adult 1:child -1:student birthday String Birthday, format: YYYYMMDD gender String Gender, M: male F: female cardNum String Credential Number, maximum 15 char, most case is passport number cardType String Credential Type, PP for passport cardExpired String Credential expired date, format: YYYYMMDD nationality String nationality, 2_letter country code contact Object Object for contact firstName Number FirstName MiddleName lastName Number LastName address String Detail address postcode Number postcode email String email mobile String mobile information, format country number + mobile number e.g.: 81 123412341234 ssrs （optional） Object Object for SSR flightNumber String Flight number ssrcode String SSR Code count Number SSR number passengerId Object Passenger Id amount Float SSR Price currency String Currency information, 3_letter code e.g. USD seats （optional） Object[] flightNumber String Flight number designator String Seat identifier passengerId String Passenger Id amount Float seat selection Price currency String Currency information, 3_letter code e.g. USD tickets （optional） Object[] Ticket number list, empty if the order is not in 'TICKETED' state. passengerId Number Passenger Id flightNumber String Flight number firstName String FirstName lastName String LastName ticketNo String Ticket Number createTime String Ticketing Time 1.5 返回结果 { \"status\": 0, \"fromcity\": \"CAN\", \"currency\": \"USD\", \"orderStatus\": \"TICKETED\", \"tocity\": \"BKK\", \"orderNo\": \"1283517458781\", \"paymentDate\": 0, \"orderDate\": 1545792659, \"totalCost\": 132, \"sessionId\": \"c90cc9162ad7269334b5244459c81982\", \"paymentCode\": \"ALIPAY\", \"tickets\": [ { \"firstName\": \"XU\", \"ticketNo\": \"123\", \"flightNumber\": \"SL901\", \"lastName\": \"JUNHYUNG\", \"passengerId\": \"0\", \"createTime\": 1545764947 } ], \"ssrs\": [], \"seats\": [], \"passengers\": [ { \"cardExpired\": \"20191219\", \"cardType\": \"PP\", \"birthday\": \"19800116\", \"nationality\": \"CN\", \"cardIssuePlace\": \"CN\", \"passengerId\": \"0\", \"firstName\": \"XU\", \"ageType\": 0, \"gender\": \"M\", \"cardNum\": \"DDDD123\", \"lastName\": \"JUNHYUNG\" } ], \"contact\": { \"mobile\": \"+86 15585589941\", \"address\": \"\", \"postcode\": \"\", \"name\": \"JUNHYUNG/XU\", \"email\": \"zzxuhalu@qq.com\" }, \"routing\": { \"retSegments\": [], \"fares\": [ { \"fare\": 106.34, \"tax\": 25.66, \"passengerId\": \"0\", \"currency\": \"USD\" } ], \"fromSegments\": [ { \"arrAirport\": \"DMK\", \"cabinclass\": \"Y\", \"pack_code\": \"\", \"operatingFlightno\": \"\", \"duration\": 185, \"flightNumber\": \"SL901\", \"stopCities\": \"\", \"codeShare\": \"false\", \"carrier\": \"SL\", \"depAirport\": \"CAN\", \"stopAirports\": \"\", \"arrTime\": \"201812280455\", \"depTime\": \"201812280250\", \"aircraftCode\": \"739\", \"cabin\": \"M\", \"operatingCarrier\": \"\" } ] } } 1.6 状态码 状态码 说明 1000 通用系统错误 1001 Request请求缺少参数 1002 无效的Action 1003 超时请重试 1004 Request请求参数错误 1005 系统错误 1101 加密校验失败，signature错误 1102 商户已禁用，请联系账户管理员 1.7 错误状态码 {\"status\": 1000, \"msg\": \"ERROR MESSAGE\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 10:15:03 "},"Order/SyncOrderStatus.html":{"url":"Order/SyncOrderStatus.html","title":"SyncOrderStatus","keywords":"","body":" .ar{padding-left:20px;} .op{margin-left:30px;} 1. Order - SyncOrderStatus 1.1 功能描述 简介： 订单出票状态推送接口 1.2 请求说明 请求方式：POST 请求URL ：/ 1.3 请求参数 Field Type Description orderNo String 订单号 orderStatus String 订单状态 msg String 订单状态描述 tickets Object[] passengerId String 乘客Id firstName String 乘客FirstName lastName String 乘客LastName ticketNo String 票号 createTime String 出票时间 flightNumber String 航班号 1.3 请求结果 { \"orderNo\": \"123456\", \"orderStatus\": \"TICKETED\", \"msg\": \"Order has been TICKETED\", \"tickets\": { \"passengerId\": \"xxxx\", \"firstName\": \"XU\", \"lastName\": \"JUNHYUNG\", \"ticketNo\": \"123123\", \"createTime\": \"155555555555\", \"flightNumber\": \"fg123\" } } 1.4 返回参数 Field Type Description status Number 0,成功;其他,失败 msg String 提示信息,长度小于 64 1.5 返回结果 { \"status\": 0, \"msg\": \"success\" } Copyright © zhangjikai.com 2015 all right reserved，powered by Gitbook该文件修订时间： 2019-01-10 11:01:14 "}}